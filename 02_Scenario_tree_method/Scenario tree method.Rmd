---
title: "Scenario Tree analysis"
subtitle: "09:30 - 10:00"
author: "Eleftherios Meletis, Aur√©lien Madouasse"
date: "2022-03-23"
output:
  xaringan::moon_reader:
    css: ["default"]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: 16/9
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

class: inverse, center, middle

## Scenario tree method - Introduction

Reference method to estimate the probabilities of freedom from infection from complex surveillance systems

Answers to:
 I. If infection was present at the design prevalence, what would be the probability of the surveillance system detecting at least 1 case?
 **Surveillance sensitivity**

 II. Given that no cases have been detected, what is the probability that true infection prevalence is lower than the design prevalence?
**Probability of freedom from infection**

Principle: A surveillance system is represented as a tree with different components

---
## Scenario tree method - Simple Example

### Let's see a simple quick example to (i) understand scenario tree notation (ii) scenario tree calculations

Objective: Freedom from BVDV in country A 

The surveillance system is split between given the herd type to dairy and beef cattle.
We assume the design prevalence is the same for both dairy and beef cattle.

Given the herd type a different diagnostic method to detect infection is applied.
Dairy - BTM
Beef - Blood 

![](figs/simple_scenario_tree.png)



---
Load libraries
```{r}
library(epiR)
```

---

## Simple example
Create - Plot the scenario tree
```{r}
```


Load data
```{r}

```

Set design prevalence
```{r}
```

Estimate the probability of freedom from infection
```{r}
#rsu.pfree.rs(se.p, p.intro = 0, prior = 0.5, by.time = TRUE)
```


Change the value of design prevalence
```{r}
```









